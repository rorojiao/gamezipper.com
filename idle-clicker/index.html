<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0,user-scalable=no">
<title>Idle Cookie Clicker</title>
<style>
*{margin:0;padding:0;box-sizing:border-box}
body{background:#1a1a2e;color:#eee;font-family:'Segoe UI',sans-serif;overflow:hidden;height:100vh;display:flex;flex-direction:column;padding-top:24px}
#header{text-align:center;padding:10px;background:#16213e}
#header h1{color:#f0a500;font-size:1.4em;text-shadow:0 0 10px rgba(240,165,0,.5)}
#stats{display:flex;justify-content:center;gap:20px;font-size:1.1em;margin-top:4px}
#stats span{color:#f0a500}
#game{display:flex;flex:1;overflow:hidden}
#cookie-area{flex:1;display:flex;align-items:center;justify-content:center;position:relative;min-width:0}
#cookie{width:min(55vw,280px);height:min(55vw,280px);border-radius:50%;cursor:pointer;user-select:none;-webkit-tap-highlight-color:transparent;transition:transform .1s;font-size:min(30vw,150px);display:flex;align-items:center;justify-content:center;position:relative;
  background:radial-gradient(circle at 30% 25%,#e8a849,#c8852a 35%,#a06820 55%,#7a4f18 75%,#5a3a10);
  box-shadow:inset 0 -8px 16px rgba(0,0,0,.4),inset 0 8px 16px rgba(255,220,150,.3),0 0 30px rgba(240,165,0,.4),0 8px 20px rgba(0,0,0,.5);
}
#cookie::before{content:'';position:absolute;width:100%;height:100%;border-radius:50%;background:
  radial-gradient(circle at 25% 30%,#5a3210 8%,transparent 8.5%),
  radial-gradient(circle at 60% 20%,#5a3210 6%,transparent 6.5%),
  radial-gradient(circle at 75% 55%,#5a3210 7%,transparent 7.5%),
  radial-gradient(circle at 35% 65%,#5a3210 5%,transparent 5.5%),
  radial-gradient(circle at 50% 45%,#5a3210 6%,transparent 6.5%),
  radial-gradient(circle at 20% 50%,#5a3210 5%,transparent 5.5%),
  radial-gradient(circle at 65% 75%,#5a3210 6%,transparent 6.5%),
  radial-gradient(circle at 45% 80%,#5a3210 5%,transparent 5.5%);
  pointer-events:none}
#cookie::after{content:'';position:absolute;width:40%;height:30%;top:15%;left:20%;border-radius:50%;background:radial-gradient(ellipse,rgba(255,255,255,.2),transparent);pointer-events:none}
#cookie:active{transform:scale(.92)}
#cookie.bounce{animation:bounce .15s}
@keyframes bounce{0%{transform:scale(.88)}50%{transform:scale(1.08)}100%{transform:scale(1)}}
.float-text{position:absolute;color:#f0a500;font-weight:bold;font-size:1.4em;pointer-events:none;animation:floatUp .8s forwards;text-shadow:0 0 6px rgba(240,165,0,.6)}
@keyframes floatUp{0%{opacity:1;transform:translateY(0)}100%{opacity:0;transform:translateY(-80px)}}
#shop{width:280px;background:#16213e;overflow-y:auto;padding:8px;display:flex;flex-direction:column;gap:6px}
#shop h2{color:#f0a500;text-align:center;font-size:1em;margin-bottom:4px}
.upgrade{background:#0f3460;border:2px solid #1a1a5e;border-radius:8px;padding:10px;cursor:pointer;transition:background .2s,border-color .2s}
.upgrade:hover{background:#1a4a7a}
.upgrade.affordable{border-color:#f0a500}
.upgrade.locked{opacity:.4;cursor:default}
.upgrade .name{font-weight:bold;color:#f0a500;font-size:.95em}
.upgrade .info{font-size:.8em;color:#aaa;margin-top:2px}
.upgrade .owned{float:right;color:#5eead4;font-weight:bold}

/* Golden Cookie */
#golden-cookie{position:absolute;width:50px;height:50px;cursor:pointer;display:none;z-index:100;animation:goldenGlow 1s ease-in-out infinite alternate;font-size:40px;line-height:50px;text-align:center;filter:drop-shadow(0 0 15px gold) drop-shadow(0 0 30px rgba(255,215,0,.6))}
@keyframes goldenGlow{0%{transform:scale(1) rotate(-5deg);filter:drop-shadow(0 0 15px gold)}100%{transform:scale(1.15) rotate(5deg);filter:drop-shadow(0 0 25px gold) drop-shadow(0 0 40px rgba(255,215,0,.8))}}

/* Toast */
.toast{position:fixed;top:60px;left:50%;transform:translateX(-50%);background:linear-gradient(135deg,#f0a500,#ff6b6b);color:#000;padding:12px 24px;border-radius:12px;font-weight:bold;font-size:.95em;z-index:10000;animation:toastIn .4s ease-out,toastOut .4s ease-in 2.6s forwards;box-shadow:0 4px 20px rgba(240,165,0,.5);white-space:nowrap}
@keyframes toastIn{from{opacity:0;transform:translateX(-50%) translateY(-30px)}to{opacity:1;transform:translateX(-50%) translateY(0)}}
@keyframes toastOut{to{opacity:0;transform:translateX(-50%) translateY(-30px)}}

/* Achievements panel */
#achiev-btn{position:fixed;bottom:10px;left:10px;background:#f0a500;color:#000;border:none;padding:8px 14px;border-radius:8px;cursor:pointer;font-weight:bold;z-index:100;font-size:.85em}
#achiev-panel{position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,.85);z-index:9999;display:none;align-items:center;justify-content:center}
#achiev-panel.show{display:flex}
#achiev-inner{background:#16213e;border-radius:16px;padding:20px;max-width:500px;width:90%;max-height:80vh;overflow-y:auto}
#achiev-inner h2{color:#f0a500;margin-bottom:12px;text-align:center}
.achiev-item{display:flex;align-items:center;gap:10px;padding:8px;border-radius:8px;margin-bottom:6px;background:#0f3460}
.achiev-item.locked{opacity:.35}
.achiev-item .a-icon{font-size:1.5em}
.achiev-item .a-info{flex:1}
.achiev-item .a-name{font-weight:bold;color:#f0a500;font-size:.9em}
.achiev-item .a-desc{font-size:.75em;color:#aaa}
#achiev-close{float:right;background:#f0a500;color:#000;border:none;padding:4px 12px;border-radius:6px;cursor:pointer;font-weight:bold}

/* Buff indicator */
#buff-bar{position:fixed;bottom:10px;right:10px;z-index:100;display:flex;flex-direction:column;gap:4px}
.buff-tag{background:rgba(240,165,0,.9);color:#000;padding:4px 10px;border-radius:6px;font-size:.75em;font-weight:bold;animation:buffPulse 1s infinite alternate}
@keyframes buffPulse{to{opacity:.7}}

@media(max-width:600px){
  #game{flex-direction:column}
  #cookie-area{flex:none;height:45vh}
  #shop{width:100%;flex:1;flex-direction:row;flex-wrap:wrap;overflow-y:auto;padding:6px}
  #shop h2{width:100%}
  .upgrade{flex:1 1 45%;min-width:140px}
  #cookie{width:min(45vw,200px);height:min(45vw,200px)}
}
</style>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8346383990981353" crossorigin="anonymous"></script>
</head>
<body>
<a href="https://gamezipper.com/" style="position:fixed;top:0;left:0;right:0;background:rgba(0,0,0,0.85);color:#4ecdc4;text-align:center;padding:4px;font-size:12px;z-index:99999;text-decoration:none">‚¨Ö More Games at GameZipper.com</a>
<div id="header">
<h1>üç™ Idle Cookie Clicker</h1>
<div id="stats"><div>Cookies: <span id="count">0</span></div><div>CPS: <span id="cps">0</span></div></div>
</div>
<div id="game">
<div id="cookie-area">
<div id="cookie"></div>
<div id="golden-cookie">üç™</div>
</div>
<div id="shop"><h2>Upgrades</h2></div>
</div>
<button id="achiev-btn" onclick="toggleAchievements()">üèÜ Achievements</button>
<div id="buff-bar"></div>
<div id="achiev-panel" onclick="if(event.target===this)toggleAchievements()">
<div id="achiev-inner"><button id="achiev-close" onclick="toggleAchievements()">‚úï</button><h2>üèÜ Achievements</h2><div id="achiev-list"></div></div>
</div>
<script>
(function(){
const upgrades=[
  {name:'Cursor',baseCost:10,cps:1,icon:'üëÜ',owned:0},
  {name:'Grandma',baseCost:100,cps:5,icon:'üëµ',owned:0},
  {name:'Farm',baseCost:500,cps:20,icon:'üåæ',owned:0},
  {name:'Factory',baseCost:2000,cps:100,icon:'üè≠',owned:0},
  {name:'Mine',baseCost:10000,cps:500,icon:'‚õèÔ∏è',owned:0},
  {name:'Bank',baseCost:50000,cps:2000,icon:'üè¶',owned:0}
];
let cookies=0,totalCookies=0,totalCps=0,lastSave=Date.now(),lastTick=Date.now();
let clickValue=1,cpsMultiplier=1,clickMultiplier=1;
const purchasedTypes=new Set();

// Audio
const actx=new(window.AudioContext||window.webkitAudioContext)();
function playClick(){const o=actx.createOscillator(),g=actx.createGain();o.connect(g);g.connect(actx.destination);o.frequency.value=800;g.gain.value=.15;o.start();g.gain.exponentialRampToValueAtTime(.001,actx.currentTime+.1);o.stop(actx.currentTime+.1)}
function playBuy(){const o=actx.createOscillator(),g=actx.createGain();o.connect(g);g.connect(actx.destination);o.type='triangle';o.frequency.value=523;g.gain.value=.2;o.start();o.frequency.exponentialRampToValueAtTime(1047,actx.currentTime+.15);g.gain.exponentialRampToValueAtTime(.001,actx.currentTime+.2);o.stop(actx.currentTime+.2)}
function playAchievement(){const notes=[523,659,784,1047];notes.forEach((f,i)=>{const o=actx.createOscillator(),g=actx.createGain();o.connect(g);g.connect(actx.destination);o.type='sine';o.frequency.value=f;g.gain.value=.15;o.start(actx.currentTime+i*.1);g.gain.exponentialRampToValueAtTime(.001,actx.currentTime+i*.1+.3);o.stop(actx.currentTime+i*.1+.3)})}
function playGolden(){const notes=[880,1108,1318,1568];notes.forEach((f,i)=>{const o=actx.createOscillator(),g=actx.createGain();o.connect(g);g.connect(actx.destination);o.type='sine';o.frequency.value=f;g.gain.value=.12;o.start(actx.currentTime+i*.08);g.gain.exponentialRampToValueAtTime(.001,actx.currentTime+i*.08+.4);o.stop(actx.currentTime+i*.08+.4)})}
function playGoldenClick(){[1200,1500,1800].forEach((f,i)=>{const o=actx.createOscillator(),g=actx.createGain();o.connect(g);g.connect(actx.destination);o.type='triangle';o.frequency.value=f;g.gain.value=.15;o.start(actx.currentTime+i*.06);g.gain.exponentialRampToValueAtTime(.001,actx.currentTime+i*.06+.25);o.stop(actx.currentTime+i*.06+.25)})}

// Achievements
const achievements=[
  {id:'first',name:'First Cookie',desc:'Click your first cookie',icon:'üñ±Ô∏è',check:()=>totalCookies>=1},
  {id:'hundred',name:'Cookie Jar',desc:'Bake 100 cookies',icon:'ü´ô',check:()=>totalCookies>=100},
  {id:'thousand',name:'Cookie Monster',desc:'Bake 1,000 cookies',icon:'üëπ',check:()=>totalCookies>=1000},
  {id:'tenk',name:'Cookie Baker',desc:'Bake 10,000 cookies',icon:'üë®‚Äçüç≥',check:()=>totalCookies>=10000},
  {id:'million',name:'Cookie Millionaire',desc:'Bake 1,000,000 cookies',icon:'üí∞',check:()=>totalCookies>=1e6},
  {id:'billion',name:'Cookie Billionaire',desc:'Bake 1,000,000,000 cookies',icon:'üíé',check:()=>totalCookies>=1e9},
  {id:'speed',name:'Speed Clicker',desc:'Click 10 times in 1 second',icon:'‚ö°',check:()=>false},
  {id:'grandma10',name:"Grandma's Army",desc:'Own 10 Grandmas',icon:'üëµ',check:()=>upgrades[1].owned>=10},
  {id:'factory5',name:'Factory Tycoon',desc:'Own 5 Factories',icon:'üè≠',check:()=>upgrades[3].owned>=5},
  {id:'cursor50',name:'Click Farm',desc:'Own 50 Cursors',icon:'üëÜ',check:()=>upgrades[0].owned>=50},
  {id:'allTypes',name:'Diversified',desc:'Own at least 1 of each upgrade',icon:'üåà',check:()=>upgrades.every(u=>u.owned>0)},
  {id:'golden3',name:'Lucky Cookie',desc:'Click 3 golden cookies',icon:'üçÄ',check:()=>goldenClicks>=3}
];
const unlockedAch=new Set();
let goldenClicks=0;

function checkAchievements(){
  achievements.forEach(a=>{
    if(!unlockedAch.has(a.id)&&a.check()){
      unlockedAch.add(a.id);
      showToast(`üèÜ ${a.name}: ${a.desc}`);
      playAchievement();
    }
  });
}

function showToast(msg){
  const t=document.createElement('div');t.className='toast';t.textContent=msg;
  document.body.appendChild(t);setTimeout(()=>t.remove(),3000);
}

// Speed clicker tracking
const clickTimes=[];
function trackSpeed(){
  const now=Date.now();
  clickTimes.push(now);
  while(clickTimes.length>0&&now-clickTimes[0]>1000)clickTimes.shift();
  if(clickTimes.length>=10&&!unlockedAch.has('speed')){
    unlockedAch.add('speed');
    showToast('üèÜ Speed Clicker: 10 clicks in 1 second!');
    playAchievement();
  }
}

function toggleAchievements(){
  const p=document.getElementById('achiev-panel');
  p.classList.toggle('show');
  if(p.classList.contains('show'))renderAchievements();
}
window.toggleAchievements=toggleAchievements;

function renderAchievements(){
  const list=document.getElementById('achiev-list');
  list.innerHTML=achievements.map(a=>`<div class="achiev-item ${unlockedAch.has(a.id)?'':'locked'}"><span class="a-icon">${a.icon}</span><div class="a-info"><div class="a-name">${a.name} ${unlockedAch.has(a.id)?'‚úÖ':''}</div><div class="a-desc">${a.desc}</div></div></div>`).join('');
}

// Golden Cookie
let goldenTimer=null;
function scheduleGolden(){
  const delay=(30+Math.random()*90)*1000;
  goldenTimer=setTimeout(spawnGolden,delay);
}
function spawnGolden(){
  const gc=document.getElementById('golden-cookie');
  const area=document.getElementById('cookie-area');
  const ar=area.getBoundingClientRect();
  gc.style.left=Math.random()*(ar.width-60)+'px';
  gc.style.top=Math.random()*(ar.height-60)+'px';
  gc.style.display='block';
  playGolden();
  const hideTimer=setTimeout(()=>{gc.style.display='none';scheduleGolden()},10000);
  gc.onclick=function(e){
    e.stopPropagation();
    gc.style.display='none';
    clearTimeout(hideTimer);
    goldenClicks++;
    playGoldenClick();
    triggerGoldenEffect();
    checkAchievements();
    scheduleGolden();
  };
}

function triggerGoldenEffect(){
  const r=Math.random();
  if(r<0.33){
    // 2x CPS for 30s
    cpsMultiplier=2;
    showToast('üåü Frenzy! 2x CPS for 30 seconds!');
    showBuff('2x CPS',30000);
    setTimeout(()=>{cpsMultiplier=1},30000);
  }else if(r<0.66){
    // CPS√ó60 cookies
    const bonus=Math.max(totalCps*60,100);
    cookies+=bonus;totalCookies+=bonus;
    showToast('üåü Lucky! +'+fmt(bonus)+' cookies!');
  }else{
    // 10x click for 15s
    clickMultiplier=10;
    showToast('üåü Click Frenzy! 10x clicks for 15 seconds!');
    showBuff('10x Click',15000);
    setTimeout(()=>{clickMultiplier=1},15000);
  }
}

function showBuff(text,duration){
  const bar=document.getElementById('buff-bar');
  const tag=document.createElement('div');tag.className='buff-tag';tag.textContent=text;
  bar.appendChild(tag);setTimeout(()=>tag.remove(),duration);
}

function fmt(n){if(n>=1e12)return(n/1e12).toFixed(1)+'T';if(n>=1e9)return(n/1e9).toFixed(1)+'B';if(n>=1e6)return(n/1e6).toFixed(1)+'M';if(n>=1e3)return(n/1e3).toFixed(1)+'K';return Math.floor(n).toString()}
function cost(u){return Math.floor(u.baseCost*Math.pow(1.15,u.owned))}
function calcCps(){totalCps=upgrades.reduce((s,u)=>s+u.cps*u.owned,0)}

// Cookie click
const cookieEl=document.getElementById('cookie');
cookieEl.addEventListener('click',function(e){
  if(actx.state==='suspended')actx.resume();
  const val=clickValue*clickMultiplier;
  cookies+=val;totalCookies+=val;
  playClick();
  trackSpeed();
  cookieEl.classList.remove('bounce');void cookieEl.offsetWidth;cookieEl.classList.add('bounce');
  const ft=document.createElement('div');ft.className='float-text';ft.textContent='+'+fmt(val);
  const r=cookieEl.getBoundingClientRect();
  ft.style.left=(r.left+r.width/2-10+Math.random()*40-20)+'px';
  ft.style.top=(r.top-10)+'px';ft.style.position='fixed';
  document.body.appendChild(ft);setTimeout(()=>ft.remove(),800);
  checkAchievements();updateUI();
});

// Shop
const shopEl=document.getElementById('shop');
function renderShop(){
  const existing=shopEl.querySelectorAll('.upgrade');
  if(existing.length===0){
    upgrades.forEach((u,i)=>{
      const d=document.createElement('div');d.className='upgrade';d.dataset.idx=i;
      d.innerHTML=`<span class="owned" id="own${i}">0</span><div class="name">${u.icon} ${u.name}</div><div class="info">+${u.cps}/s | Cost: <span id="cost${i}">${fmt(cost(u))}</span></div>`;
      d.addEventListener('click',()=>buy(i));shopEl.appendChild(d);
    });
  }
  upgrades.forEach((u,i)=>{
    const c=cost(u);const el=shopEl.children[i+1];
    el.className='upgrade'+(cookies>=c?' affordable':' locked');
    document.getElementById('cost'+i).textContent=fmt(c);
    document.getElementById('own'+i).textContent=u.owned;
  });
}

function buy(i){
  const u=upgrades[i],c=cost(u);if(cookies<c)return;
  cookies-=c;u.owned++;calcCps();playBuy();
  purchasedTypes.add(i);
  checkAchievements();updateUI();
}

function updateUI(){
  document.getElementById('count').textContent=fmt(cookies);
  document.getElementById('cps').textContent=fmt(totalCps*cpsMultiplier);
  renderShop();
}

// Game loop
function tick(){
  const now=Date.now();const dt=(now-lastTick)/1000;lastTick=now;
  const earned=totalCps*cpsMultiplier*dt;
  cookies+=earned;totalCookies+=earned;
  if(now-lastSave>10000){save();lastSave=now}
  updateUI();checkAchievements();requestAnimationFrame(tick);
}

// Save/Load
function save(){
  const d={cookies,totalCookies,upgrades:upgrades.map(u=>u.owned),time:Date.now(),types:[...purchasedTypes],achievements:[...unlockedAch],goldenClicks};
  localStorage.setItem('idleCookie',JSON.stringify(d));
}
function load(){
  try{
    const d=JSON.parse(localStorage.getItem('idleCookie'));if(!d)return;
    d.upgrades.forEach((n,i)=>{upgrades[i].owned=n});
    cookies=d.cookies||0;totalCookies=d.totalCookies||cookies;
    if(d.types)d.types.forEach(t=>purchasedTypes.add(t));
    if(d.achievements)d.achievements.forEach(a=>unlockedAch.add(a));
    if(d.goldenClicks)goldenClicks=d.goldenClicks;
    calcCps();
    if(d.time&&totalCps>0){
      const away=(Date.now()-d.time)/1000;
      if(away>5){const earned=totalCps*away;cookies+=earned;totalCookies+=earned;
        setTimeout(()=>alert('Welcome back! You earned '+fmt(earned)+' cookies while away ('+Math.floor(away/60)+' min).'),300);}
    }
  }catch(e){}
}

load();updateUI();requestAnimationFrame(tick);scheduleGolden();
window.addEventListener('beforeunload',save);
})();
</script>
<div id="tutorial-overlay" style="position:fixed;inset:0;background:rgba(0,0,0,0.82);display:flex;align-items:center;justify-content:center;z-index:999999">
<div style="background:rgba(30,30,50,0.95);border-radius:20px;padding:36px 28px;max-width:340px;text-align:center;color:#fff;box-shadow:0 8px 32px rgba(0,0,0,0.5)">
<div style="font-size:56px;margin-bottom:12px">üç™</div>
<h2 style="font-size:24px;color:#ffd700;margin-bottom:16px">How to Play</h2>
<p style="font-size:16px;line-height:1.9;text-align:left;color:#eee">
üëÜ Tap the cookie to <b>bake</b> cookies!<br>
üõí Buy upgrades to <b>auto-bake</b> more<br>
‚ú® Watch for <b>Golden Cookies</b> ‚Äî tap for bonuses!<br>
üèÖ Unlock achievements as you grow!
</p>
<p style="font-size:14px;color:#aaa;margin-top:12px">üí§ Tip: Your cookies keep baking even when you're away!</p>
<button onclick="document.getElementById('tutorial-overlay').remove();localStorage.setItem('tutorial_idle','1')" style="margin-top:20px;padding:14px 36px;font-size:18px;border:none;border-radius:12px;background:linear-gradient(135deg,#ff6b6b,#ffa500);color:#fff;cursor:pointer;font-weight:bold">Got it! üéÆ</button>
</div></div>
<script>if(localStorage.getItem('tutorial_idle'))document.getElementById('tutorial-overlay').remove();</script>
</body>
</html>
