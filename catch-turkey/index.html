<!DOCTYPE html>
<html style="width:100%;height:100%;margin:0;padding:0;overflow:hidden;background:#000">
<head>
  <meta charset="utf-8">
  <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
  <meta http-equiv="Pragma" content="no-cache">
  <meta http-equiv="Expires" content="0">
  <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,minimum-scale=1,user-scalable=no,viewport-fit=cover">
  <title>Catch Turkey ü¶É</title>
  <style>
    * { margin:0; padding:0; box-sizing:border-box; }
    body {padding-top:28px; width:100vw; height:100vh; overflow:hidden; position:fixed; top:0; left:0;
      background: linear-gradient(180deg, #87CEEB 0%, #98D8C8 40%, #F0E68C 70%, #8FBC8F 100%);
    }
    #gameCanvas { display:block; touch-action:none; position:absolute; top:28px; left:0; width:100%;height:calc(100% - 28px); }

    /* Falling leaves */
    .leaf{position:fixed;pointer-events:none;z-index:10001;font-size:18px;opacity:0.7}

    /* Grass at bottom */
    .grass-row{position:fixed;bottom:0;left:0;right:0;pointer-events:none;z-index:10001;display:flex;overflow:hidden;height:40px}
    .grass-blade{width:12px;height:30px;background:linear-gradient(to top,#228B22,#32CD32);border-radius:80% 80% 0 0;flex-shrink:0;transform-origin:bottom center;animation:grassSway 2s ease-in-out infinite}
    @keyframes grassSway{0%,100%{transform:rotate(-5deg)}50%{transform:rotate(5deg)}}

    /* Feather particles */
    .feather{position:fixed;pointer-events:none;z-index:10000;animation:featherFall 1.5s ease-out forwards}
    @keyframes featherFall{
      0%{opacity:1;transform:translate(0,0) rotate(0deg) scale(1)}
      100%{opacity:0;transform:translate(var(--dx),var(--dy)) rotate(var(--rot)) scale(0.3)}
    }
    /* Gold stars */
    .gold-star{position:fixed;pointer-events:none;z-index:10000;color:#ffd700;text-shadow:0 0 10px #ffd700,0 0 20px #ff8c00;animation:starBurst 0.7s ease-out forwards}
    @keyframes starBurst{0%{opacity:1;transform:translate(0,0) scale(1.5) rotate(0deg)}100%{opacity:0;transform:translate(var(--dx),var(--dy)) scale(0.2) rotate(360deg)}}
    /* Shockwave */
    .farm-shockwave{position:fixed;pointer-events:none;z-index:10000;border-radius:50%;border:3px solid rgba(255,215,0,0.6);box-shadow:0 0 15px rgba(255,215,0,0.3);animation:farmShock 0.5s ease-out forwards}
    @keyframes farmShock{0%{width:0;height:0;opacity:1;transform:translate(-50%,-50%)}100%{width:300px;height:300px;opacity:0;transform:translate(-50%,-50%)}}
    @keyframes farmShake{0%,100%{transform:translate(0,0)}10%{transform:translate(-4px,2px)}30%{transform:translate(4px,-2px)}50%{transform:translate(-2px,4px)}70%{transform:translate(2px,-1px)}90%{transform:translate(-1px,1px)}}
    /* Extra animal decorations */
    .deco-animal{position:fixed;pointer-events:none;z-index:10001;opacity:0.15;animation:animalBob 3s ease-in-out infinite}
    @keyframes animalBob{0%,100%{transform:translateY(0) rotate(-3deg)}50%{transform:translateY(-10px) rotate(3deg)}}
  </style>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8346383990981353" crossorigin="anonymous"></script>
  <script src="../game-audio.js?v=5"></script>
</head>
<body>
<a href="https://gamezipper.com/" style="position:fixed;top:0;left:0;right:0;background:linear-gradient(90deg,#5D4037,#6D4C41,#5D4037);color:#FFD54F;text-align:center;padding:4px;font-size:12px;z-index:99999;text-decoration:none;border-bottom:2px solid #4E342E;text-shadow:1px 1px 2px rgba(0,0,0,.5);background-image:repeating-linear-gradient(90deg,rgba(255,255,255,.03) 0px,rgba(255,255,255,.03) 2px,transparent 2px,transparent 10px)">üåø More Games at GameZipper.com</a>
  <canvas id="gameCanvas"></canvas>

  <!-- Extra animal decorations -->
  <img class="deco-animal" src="images/animal_duck.png" style="top:40px;left:8px;width:36px" alt="">
  <img class="deco-animal" src="images/animal_chicken.png" style="top:40px;right:8px;width:36px;animation-delay:1s" alt="">
  <img class="deco-animal" src="images/animal_owl.png" style="bottom:50px;left:50%;width:32px;animation-delay:0.5s;opacity:0.1" alt="">

  <!-- Grass row -->
  <div class="grass-row" id="grass-row"></div>

  <!-- FX Overlay -->
  <div id="fx-overlay" style="position:fixed;inset:0;pointer-events:none;z-index:9999;overflow:hidden"></div>

  <script>
  (function(){
    const overlay=document.getElementById('fx-overlay');
    const canvas=document.getElementById('gameCanvas');

    // === Generate grass blades ===
    const grassRow=document.getElementById('grass-row');
    const bladeCount=Math.ceil(window.innerWidth/10);
    for(let i=0;i<bladeCount;i++){
      const b=document.createElement('div');
      b.className='grass-blade';
      b.style.animationDelay=(Math.random()*2)+'s';
      b.style.height=(22+Math.random()*18)+'px';
      const greens=['#228B22','#2E8B57','#32CD32','#006400','#3CB371'];
      b.style.background=`linear-gradient(to top,${greens[Math.floor(Math.random()*greens.length)]},${greens[Math.floor(Math.random()*greens.length)]})`;
      grassRow.appendChild(b);
    }

    // === Falling leaves with swaying ===
    const leaves=[];
    const leafEmojis=['üçÇ','üçÅ','üåø'];
    const LEAF_COUNT=8;
    for(let i=0;i<LEAF_COUNT;i++){
      const el=document.createElement('div');
      el.className='leaf';
      el.textContent=leafEmojis[Math.floor(Math.random()*leafEmojis.length)];
      el.style.fontSize=(14+Math.random()*10)+'px';
      document.body.appendChild(el);
      leaves.push({
        el,x:Math.random()*window.innerWidth,y:-30-Math.random()*300,
        speed:0.3+Math.random()*0.5,phase:Math.random()*Math.PI*2,
        rot:Math.random()*360,rotSpeed:Math.random()*1-0.5,
        swayAmp:15+Math.random()*20,swaySpeed:0.02+Math.random()*0.02
      });
    }

    function animLeaves(){
      const h=window.innerHeight,w=window.innerWidth;
      for(const l of leaves){
        l.y+=l.speed;l.phase+=l.swaySpeed;l.rot+=l.rotSpeed;
        const sway=Math.sin(l.phase)*l.swayAmp;
        if(l.y>h+30){l.y=-30;l.x=Math.random()*w;}
        l.el.style.transform=`translate(${l.x+sway}px,${l.y}px) rotate(${l.rot}deg)`;
      }
      requestAnimationFrame(animLeaves);
    }
    animLeaves();

    // === Click Effects - Feather burst ===
    const featherColors=['#D2691E','#DEB887','#F4A460','#CD853F','#8B4513','#A0522D','#FFD700','#FF6347','#FF4500','#DA70D6'];

    function spawnFeathers(x,y){
      // 10 feather triangle particles
      for(let i=0;i<10;i++){
        const f=document.createElement('div');
        f.className='feather';
        f.style.left=x+'px';f.style.top=y+'px';
        const sz=6+Math.random()*10;
        const col=featherColors[Math.floor(Math.random()*featherColors.length)];
        // CSS triangle
        f.style.width='0';f.style.height='0';
        f.style.borderLeft=(sz*.4)+'px solid transparent';
        f.style.borderRight=(sz*.4)+'px solid transparent';
        f.style.borderBottom=sz+'px solid '+col;
        f.style.background='transparent';
        const angle=Math.random()*Math.PI*2;
        const dist=50+Math.random()*120;
        const dy=Math.sin(angle)*dist+60;
        f.style.setProperty('--dx',Math.cos(angle)*dist+'px');
        f.style.setProperty('--dy',dy+'px');
        f.style.setProperty('--rot',(Math.random()*540-270)+'deg');
        f.style.animationDuration=(1.0+Math.random()*0.8)+'s';
        overlay.appendChild(f);
        setTimeout(()=>f.remove(),1800);
      }

      // Stars
      for(let i=0;i<12;i++){
        const s=document.createElement('div');
        s.className='gold-star';
        s.textContent=i<4?'‚òÖ':'‚ú¶';
        s.style.fontSize=i<4?(20+Math.random()*12)+'px':(10+Math.random()*8)+'px';
        s.style.left=x+'px';s.style.top=y+'px';
        const angle=Math.random()*Math.PI*2;
        const dist=(i<4?60:30)+Math.random()*100;
        s.style.setProperty('--dx',Math.cos(angle)*dist+'px');
        s.style.setProperty('--dy',Math.sin(angle)*dist+'px');
        overlay.appendChild(s);
        setTimeout(()=>s.remove(),700);
      }

      // Shockwave
      const sw=document.createElement('div');
      sw.className='farm-shockwave';
      sw.style.left=x+'px';sw.style.top=y+'px';
      overlay.appendChild(sw);
      setTimeout(()=>sw.remove(),500);

      document.body.style.animation='farmShake 0.25s ease-out';
      setTimeout(()=>document.body.style.animation='',300);
    }

    canvas.addEventListener('pointerdown',function(e){
      setTimeout(()=>spawnFeathers(e.clientX,e.clientY),100);
    });
  })();
  </script>
  <script src="game.js"></script>
<div id="tutorial-overlay" style="position:fixed;inset:0;background:rgba(0,0,0,0.82);display:flex;align-items:center;justify-content:center;z-index:999999">
<div style="background:linear-gradient(135deg,#f5f0e0,#e8d8b0);border-radius:20px;padding:36px 28px;max-width:340px;text-align:center;color:#5D4037;box-shadow:0 8px 32px rgba(0,0,0,0.5);border:3px solid #8D6E63">
<div style="font-size:56px;margin-bottom:12px">ü¶É</div>
<h2 style="font-size:24px;color:#5D4037;margin-bottom:16px">How to Play</h2>
<p style="font-size:16px;line-height:1.9;text-align:left;color:#6D4C41">
üëÜ Tap turkeys to <b>catch</b> them!<br>
üéØ Match <b>3 same-color</b> turkeys in a row<br>
üèÜ Collect all turkeys to complete each level
</p>
<p style="font-size:14px;color:#8D6E63;margin-top:12px">‚≠ê Special turkeys give bonus points!</p>
<button ontouchend="event.preventDefault();var o=document.getElementById('tutorial-overlay');if(o)o.remove();var c=document.getElementById('gameCanvas')||document.querySelector('canvas');if(c)c.style.pointerEvents='auto';localStorage.setItem('tutorial-seen-catch-turkey','1');" onmousedown="var o=document.getElementById('tutorial-overlay');if(o)o.remove();var c=document.getElementById('gameCanvas')||document.querySelector('canvas');if(c)c.style.pointerEvents='auto';localStorage.setItem('tutorial-seen-catch-turkey','1');" style="touch-action:manipulation;cursor:pointer;position:relative;z-index:10000000;margin-top:20px;padding:14px 36px;font-size:18px;border:none;border-radius:12px;background:linear-gradient(135deg,#8D6E63,#6D4C41);color:#FFD54F;font-weight:bold;box-shadow:0 4px 15px rgba(93,64,55,.4);user-select:none;-webkit-user-select:none">Got it! üåæ</button>
</div></div>
<script>if(localStorage.getItem('tutorial_turkey')||localStorage.getItem('tutorial-seen-catch-turkey')){var o=document.getElementById('tutorial-overlay');if(o)o.remove();}</script>
<script>
(function(){
  var ov = document.getElementById('tutorial-overlay');
  if (!ov) return;
  
  // Get canvas for pointer-events reset
  var cvs = document.getElementById('gameCanvas') || document.querySelector('canvas');
  
  // Â¶ÇÊûúÂ∑≤ÊòæÁ§∫ËøátutorialÔºåÁßªÈô§overlay
  if (localStorage.getItem('tutorial-seen-catch-turkey') || localStorage.getItem('tutorial_turkey') || localStorage.getItem('tutorial-seen-' + window.location.pathname)) {
    ov.remove();
    return;
  }
  
  // ËÆæÁΩÆoverlayÁöÑÂÖ®Â±èclick/touch‰∫ã‰ª∂ÂÖ≥Èó≠
  var closeTut = function(e) {
    e && e.preventDefault && e.preventDefault();
    e && e.stopPropagation && e.stopPropagation();
    if (cvs) cvs.style.pointerEvents = 'auto';
    ov.remove();
    localStorage.setItem('tutorial-seen-catch-turkey', '1');
  };
  
  // Â§öÁßç‰∫ã‰ª∂Â§ÑÁêÜ
  ov.addEventListener('click', closeTut, true);
  ov.addEventListener('touchend', closeTut, true);
  ov.addEventListener('pointerdown', closeTut, true);
  
  // Disable canvas events during tutorial
  if (cvs) cvs.style.pointerEvents = 'none';
})();
</script>
  <script src="../game-audio-auto.js?v=5"></script>
<script src="../sound-toggle.js?v=5"></script>
</body>
</html>
